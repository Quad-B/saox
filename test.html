<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300&display=swap" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics >
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-40172537-11"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-40172537-11');
    </script-->
    <style>
        #notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 200px;
            padding: 20px;
            border-radius: 5px;
            background-color: white;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }

        .hidden {
            display: none;
        }

        .container-after-titlebar {
            overflow: hidden !important;
            /* Hide scrollbars */
        }

        /* iframe {
            border: 0;
            width: 100%;
            height: 100%;
            margin-top: 0.4%;
        } */
    </style>
</head>

<body style="margin:0px;padding:0px;overflow:hidden">

    <iframe src="https://www.joox.com/th" id="iframe" frameborder="0" onload="updatedl()"
        style="overflow:hidden;overflow-x:hidden;overflow-y:hidden;height:100%;width:100%;position:absolute;top:0px;left:0px;right:0px;bottom:0px"
        height="100%" width="100%">
    </iframe>

    <!--div id="notification" class="hidden">
        <p id="message" style="font-family: 'Mitr', sans-serif;"></p>
        <button id="close-button" onClick="closeNotification()" class="hidden" style="font-family: 'Mitr', sans-serif;">
            ปิด
        </button>
        <button id="update-button" onClick="updateApp()" class="hidden" style="font-family: 'Mitr', sans-serif;">
            อัพเดต
        </button>
        <button id="restart-button" onClick="restartApp()" class="hidden" style="font-family: 'Mitr', sans-serif;">
            รีสตาร์
        </button>
    </div-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        onload="window.$ = window.jQuery = module.exports;"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/d3js/5.15.1/d3.min.js"></script>

    <!--script src="js/update.js"></script-->

    <script>

        let language = 'en'
        let musicname
        const { app, remote, ipcRenderer, shell } = require('electron')
        const { Menu, MenuItem } = remote
        const customTitlebar = require('custom-electron-titlebar');
        const osLocale = require('os-locale');

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            console.log('Geolocation is not supported by this browser.')
        }

        function showPosition(position) {

            $.getJSON("https://api.longdo.com/map/services/address?lon=" + position.coords.longitude + "&lat=" + position.coords.latitude + "&noelevation=1&key=dd60afa68aa84ff6eb5e4da05044eea4", function (json) {

                if(json.country == "ประเทศไทย"){
                    language = 'th'
                }
                updatedl()

            });

        }

        (async () => {
            console.log(await osLocale());
            if (await osLocale() != 'th-TH') {
                language = 'en'
            }
        })();

        /*const notification = document.getElementById('notification');
        const message = document.getElementById('message');
        const closeButton = document.getElementById('close-button')
        const restartButton = document.getElementById('restart-button');
        const updateButton = document.getElementById('update-button');

        ipcRenderer.on('update_not_available', () => {
            setTimeout(function(){ notification.classList.remove('hidden'); }, 10000);
            ipcRenderer.removeAllListeners('update_not_available');
            message.innerHTML = 'ไม่มีการอัพเดต<br>คุณติดตั้งเวอร์ชั่นล่าสุดแล้ว';
            //notification.classList.remove('hidden');
            setTimeout(function(){ notification.classList.add('hidden'); }, 10000);
        });

        ipcRenderer.on('update_available', () => {
            ipcRenderer.removeAllListeners('update_available');
            message.innerHTML = 'มีอัพเดตเวอร์ชั่นใหม่<br>กำลังอัพเดต';
            //message.innerHTML = 'มีอัพเดตเวอร์ชั่นใหม่<br>ต้องการที่จะอัพเดตไหม?';
            //closeButton.classList.remove('hidden');
            //updateButton.classList.remove('hidden');
            notification.classList.remove('hidden');
            setTimeout(function(){ notification.classList.add('hidden'); }, 7500);
        });

        ipcRenderer.on('incoming', () => {
            setTimeout(function(){ notification.classList.remove('hidden'); }, 7500);
            //closeButton.classList.add('hidden');
            //updateButton.classList.add('hidden');
        //ipcRenderer.on('incoming', function (event, data) {
            ipcRenderer.removeAllListeners('incoming');
            //message.innerText = data;
            message.innerText = 'กำลังดาว์นโหลด';
            //notification.classList.remove('hidden');
            setTimeout(function(){ notification.classList.add('hidden'); }, 7500);
        });

        ipcRenderer.on('error', () => {
            setTimeout(function(){ notification.classList.remove('hidden'); }, 7500);
            //closeButton.classList.add('hidden');
            //updateButton.classList.add('hidden');
            ipcRenderer.removeAllListeners('error');
            /*restartButton.classList.add('hidden');
            message.innerText = data;*/
        /*message.innerHTML = 'มีปัญหาในการอัพเดต <br> โปรแกรมจะทำการอัพเดตในครั้งถัดไป';
        //notification.classList.remove('hidden');
        setTimeout(function(){ notification.classList.add('hidden'); }, 7500);
        //notification.classList.add('hidden');
    });

    ipcRenderer.on('update_downloaded', () => {
        setTimeout(function(){ notification.classList.remove('hidden'); }, 10000);
        //closeButton.classList.add('hidden');
        //updateButton.classList.add('hidden');
        ipcRenderer.removeAllListeners('update_downloaded');
        //message.innerText = 'อัพเดตเสร็จแล้ว. ถ้าต้องการอัพเดตจำเป็นต้องปิดโปรแกรม อัพเดตตอนนี้เลยไหม?';
        message.innerHTML = 'ถ้าคุณเห็นข้อความนี้ <br> แสดงว่าการอัพเดตไม่สำเร็จ <br> โปรแกรมจะทำการอัพเดตในครั้งถัดไป'
        //restartButton.classList.remove('hidden');
        //notification.classList.remove('hidden');
        setTimeout(function(){ notification.classList.add('hidden'); }, 10000);
    });

    function closeNotification() {
        notification.classList.add('hidden');
    }
 
    function restartApp() {
        ipcRenderer.send('restart_app');
    }

    function updateApp() {
        ipcRenderer.send('update_app');
    }*/

        const handleClick = (menuItem, browserWindow, event) => {
            console.log(menuItem.label)
            if (menuItem.label == 'English' || menuItem.label == 'อังกฤษ') {
                language = 'en'
                console.log('ok')
            } else {
                language = 'th'
                console.log('ok')
            }
            if(document.title == 'SAOX'){
                updatedl()
            }else{
                updatedl('ok')
            }
            console.log('ok')
        }

        function hexToRgbA(hex) {
            var c;
            if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {
                c = hex.substring(1).split('');
                if (c.length == 3) {
                    c = [c[0], c[0], c[1], c[1], c[2], c[2]];
                }
                c = '0x' + c.join('');
                return 'rgba(' + [(c >> 16) & 255, (c >> 8) & 255, c & 255].join(',') + ',1)';
            }
            throw new Error('Bad Hex');
        }

        let MyTitleBar = new customTitlebar.Titlebar({
            backgroundColor: customTitlebar.Color.fromHex('#444'),
            shadow: true,
            icon: 'img/saoxnew.svg'
        });

        const isMac = process.platform === 'darwin'

        require('electron').ipcRenderer.on('media-key', (event, message) => {
            if (message == "MediaPlayPause") {
                if (iframe.contentWindow.document.querySelectorAll('.YCPsB')[0].innerHTML.search("เล่น") > 0) {
                    iframe.contentWindow.document.querySelectorAll('.YCPsB')[0].click()
                    ipcRenderer.send('play');
                } else {
                    iframe.contentWindow.document.querySelectorAll('.YCPsB')[0].click()
                    ipcRenderer.send('pause');
                }
            }
            if (message == "Prev") {
                iframe.contentWindow.document.querySelectorAll('.ilQaFf')[0].click()
                setTimeout(checkplay(), 1000)
            }
            if (message == "Next") {
                iframe.contentWindow.document.querySelectorAll('.ilQaFf')[1].click()
                setTimeout(checkplay(), 1000)
            }
        })

        function checkplay() {
            if (iframe.contentWindow.document.querySelectorAll('.YCPsB')[0].innerHTML.search("เล่น") > 0) {
                ipcRenderer.send('pause');
            } else {
                ipcRenderer.send('play');
            }
        }

        const menu = new Menu();

        if (language == 'en') {
            menu.append(new MenuItem({
                label: 'Main',
                submenu: [
                    {
                        label: 'Exit/Close',
                        click: async () => {
                            window.close();
                        }
                    }
                ]
            }));

            menu.append(new MenuItem({
                label: 'Settings',
                submenu: [
                    {
                        label: 'Select Languages',
                        submenu: [
                            {
                                label: 'Thai',
                                type: 'radio',
                                click: handleClick
                            },
                            {
                                label: 'English',
                                type: 'radio',
                                checked: true,
                                click: handleClick
                            },
                            {
                                label: 'More Soon...'
                            }
                        ]
                    }
                ]
            }));

            menu.append(new MenuItem({
                label: 'Help',
                submenu: [
                    {
                        label: 'Follow Us',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://www.facebook.com/QuadBCoder/')
                        }
                    },
                    {
                        label: 'Buy me a ko-fi',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://ko-fi.com/boyphongsakorn')
                        }
                    },
                    { type: 'separator' },
                    {
                        label: 'Report Bug/Issue',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://github.com/boyphongsakorn/saox/issues')
                        }
                    },
                    {
                        label: 'About SAOX',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://quad-b.github.io/saox/')
                        }
                    },
                    { type: 'separator' },
                    {
                        label: 'Check for update...',
                        click: async () => {
                            ipcRenderer.send('checkdamnupdate');
                        }
                    },
                    { label: 'SAOX Version ' + require("electron").remote.app.getVersion() }
                ]
            }));
        } else {
            menu.append(new MenuItem({
                label: 'เมนูหลัก',
                submenu: [
                    {
                        label: 'ปิดโปรแกรม',
                        click: async () => {
                            window.close();
                        }
                    }
                ]
            }));

            menu.append(new MenuItem({
                label: 'ตั้งค่า',
                submenu: [
                    {
                        label: 'ภาษา',
                        submenu: [
                            {
                                label: 'ไทย',
                                type: 'radio',
                                checked: true,
                                click: handleClick
                            },
                            {
                                label: 'อังกฤษ',
                                type: 'radio',
                                click: handleClick
                            }
                        ]
                    }
                ]
            }));

            menu.append(new MenuItem({
                label: 'ช่วยเหลือ',
                submenu: [
                    {
                        label: 'ติดตาม เฟสบุ๊ค',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://www.facebook.com/QuadBCoder/')
                        }
                    },
                    {
                        label: 'สนับสนุน',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://ko-fi.com/boyphongsakorn')
                        }
                    },
                    { type: 'separator' },
                    {
                        label: 'แจ้ง Bug',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://github.com/boyphongsakorn/saox/issues')
                        }
                    },
                    {
                        label: 'เกี่ยวกับ SAOX',
                        click: async () => {
                            const { shell } = require('electron')
                            await shell.openExternal('https://quad-b.github.io/saox/')
                        }
                    },
                    { type: 'separator' },
                    {
                        label: 'ตรวจหาการอัปเดต',
                        click: async () => {
                            ipcRenderer.send('checkdamnupdate');
                        }
                    },
                    { label: 'SAOX เวอร์ชั่น ' + require("electron").remote.app.getVersion() }
                ]
            }));
        }

        MyTitleBar.updateMenu(menu);

        MyTitleBar.updateTitle('SAOX');

        setInterval(function () {

            updatedl()

        }, 5000);

        window.onload = function () {
            var oFrame = document.getElementById("iframe");
            oFrame.contentWindow.document.onclick = function () {
                //alert("frame contents clicked");
                //alert(oFrame.contentWindow.location.href)
                if (oFrame.contentWindow.location.href.includes('vip')) {
                    shell.openExternal(oFrame.contentWindow.location.href)
                    oFrame.contentWindow.history.back()
                }
            };
        };

        function updatedl(ok) {

            checkplay()

            const menu = new Menu();

            var elmnt = iframe.contentWindow.document.getElementsByClassName("sc-iAyFgw")[0].innerText;

            var image = iframe.contentWindow.document.getElementsByClassName("sc-iRbamj")[0].src;

            //if (elmnt != "" && musicname != iframe.contentWindow.document.getElementsByClassName("sc-iAyFgw")[0].innerText && image.search("default-album@300.png") != "https://cdn2-joox.isanook.com/static/di/default/default-album@300.png") {
            if ((elmnt != "" && musicname != iframe.contentWindow.document.getElementsByClassName("sc-iAyFgw")[0].innerText && !image.includes("default-album@300.png")) || ok == "ok") {

                musicname = iframe.contentWindow.document.getElementsByClassName("sc-iAyFgw")[0].innerText

                if (language == 'en') {
                    menu.append(new MenuItem({
                        label: 'Main',
                        submenu: [
                            {
                                label: 'Watch This Music Video on YouTube',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://www.youtube.com/results?search_query=' + elmnt)
                                }
                            },
                            {
                                label: 'Exit/Close',
                                click: async () => {
                                    window.close();
                                }
                            }
                        ]
                    }));

                    menu.append(new MenuItem({
                        label: 'Settings',
                        submenu: [
                            {
                                label: 'Select Languages',
                                submenu: [
                                    {
                                        label: 'Thai',
                                        type: 'radio',
                                        click: handleClick
                                    },
                                    {
                                        label: 'English',
                                        type: 'radio',
                                        checked: true,
                                        click: handleClick
                                    },
                                    {
                                        label: 'More Soon...'
                                    }
                                ]
                            }
                        ]
                    }));

                    menu.append(new MenuItem({
                        label: 'Help',
                        submenu: [
                            {
                                label: 'Follow Us',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://www.facebook.com/QuadBCoder/')
                                }
                            },
                            {
                                label: 'Buy me a ko-fi',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://ko-fi.com/boyphongsakorn')
                                }
                            },
                            { type: 'separator' },
                            {
                                label: 'Report Bug/Issue',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://github.com/boyphongsakorn/saox/issues')
                                }
                            },
                            {
                                label: 'About SAOX',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://quad-b.github.io/saox/')
                                }
                            },
                            { type: 'separator' },
                            {
                                label: 'Check for update....',
                                click: async () => {
                                    ipcRenderer.send('checkdamnupdate');
                                }
                            },
                            { label: 'SAOX Version ' + require("electron").remote.app.getVersion() }
                        ]
                    }));
                } else {
                    menu.append(new MenuItem({
                        label: 'เมนูหลัก',
                        submenu: [
                            {
                                label: 'ดู เอ็มวี เพลงนี้',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://www.youtube.com/results?search_query=' + elmnt)
                                }
                            },
                            {
                                label: 'ดาว์นโหลด เพลงนี้',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://mp3freefree.com/' + elmnt + '.html')
                                }
                            },
                            {
                                label: 'ปิดโปรแกรม',
                                click: async () => {
                                    window.close();
                                }
                            }
                        ]
                    }));

                    menu.append(new MenuItem({
                        label: 'ตั้งค่า',
                        submenu: [
                            {
                                label: 'ภาษา',
                                submenu: [
                                    {
                                        label: 'ไทย',
                                        type: 'radio',
                                        checked: true,
                                        click: handleClick
                                    },
                                    {
                                        label: 'อังกฤษ',
                                        type: 'radio',
                                        click: handleClick
                                    }
                                ]
                            }
                        ]
                    }));

                    menu.append(new MenuItem({
                        label: 'ช่วยเหลือ',
                        submenu: [
                            {
                                label: 'ติดตาม เฟสบุ๊ค',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://www.facebook.com/QuadBCoder/')
                                }
                            },
                            {
                                label: 'สนับสนุน',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://ko-fi.com/boyphongsakorn')
                                }
                            },
                            { type: 'separator' },
                            {
                                label: 'แจ้ง Bug',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://github.com/boyphongsakorn/saox/issues')
                                }
                            },
                            {
                                label: 'เกี่ยวกับ SAOX',
                                click: async () => {
                                    const { shell } = require('electron')
                                    await shell.openExternal('https://quad-b.github.io/saox/')
                                }
                            },
                            { type: 'separator' },
                            {
                                label: 'ตรวจหาการอัปเดต',
                                click: async () => {
                                    ipcRenderer.send('checkdamnupdate');
                                }
                            },
                            { label: 'SAOX เวอร์ชั่น ' + require("electron").remote.app.getVersion() }
                        ]
                    }));
                }

                MyTitleBar.updateMenu(menu);

                $.get('https://pwisetthon.com/getcolor.php?url=' + image,  // url
                    function (data, textStatus, jqXHR) {  // success callback
                        MyTitleBar.updateTitle('SAOX : ' + elmnt);
                        MyTitleBar.updateBackground(customTitlebar.Color.fromHex(data));
                        iframe.contentWindow.document.getElementsByClassName('MainHeader')[0].style.backgroundColor = data
                        //iframe.contentWindow.document.getElementsByClassName('MainHeader')[0].style.filter = 'brightness(50%)'
                        let test = hexToRgbA(data)
                        let okithing = test.replace(/[\d\.]+\)$/g, "0.5")
                        iframe.contentWindow.document.getElementsByClassName('sidebar')[0].style.backgroundColor = okithing
                        //iframe.contentWindow.document.getElementsByClassName('sidebar')[0].style.filter = 'brightness(15%)'
                        if (iframe.contentWindow.document.getElementById('menuzero') || iframe.contentWindow.document.getElementById('menuone')) {
                            iframe.contentWindow.document.getElementById('menuzero').style.background = data
                            iframe.contentWindow.document.getElementById('menuone').style.background = data
                            iframe.contentWindow.document.getElementById('menuzero').style.borderRadius = '6px'
                            iframe.contentWindow.document.getElementById('menuone').style.borderRadius = '6px'
                        } else {
                            iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[0].style.background = data
                            iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[0].id = 'menuzero'
                            iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[0].className = ''
                            iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[0].style.background = data
                            iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[0].id = 'menuone'
                            iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[0].className = ''
                        }
                        //console.log(iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[1].style.background = data)
                        //iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[0].className = ''
                        // console.log(iframe.contentWindow.document.getElementsByClassName('ScrollbarsCustom-Thumb ScrollbarsCustom-ThumbY')[1].style.background = data)
                    });

            } else {
                if (document.title == 'SAOX') {
                    const menu = new Menu();

                    if (language == 'en') {
                        menu.append(new MenuItem({
                            label: 'Main',
                            submenu: [
                                {
                                    label: 'Exit/Close',
                                    click: async () => {
                                        window.close();
                                    }
                                }
                            ]
                        }));

                        menu.append(new MenuItem({
                            label: 'Settings',
                            submenu: [
                                {
                                    label: 'Select Languages',
                                    submenu: [
                                        {
                                            label: 'Thai',
                                            type: 'radio',
                                            click: handleClick
                                        },
                                        {
                                            label: 'English',
                                            type: 'radio',
                                            checked: true,
                                            click: handleClick
                                        },
                                        {
                                            label: 'More Soon...'
                                        }
                                    ]
                                }
                            ]
                        }));

                        menu.append(new MenuItem({
                            label: 'Help',
                            submenu: [
                                {
                                    label: 'Follow Us',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://www.facebook.com/QuadBCoder/')
                                    }
                                },
                                {
                                    label: 'Buy me a ko-fi',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://ko-fi.com/boyphongsakorn')
                                    }
                                },
                                { type: 'separator' },
                                {
                                    label: 'Report Bug/Issue',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://github.com/boyphongsakorn/saox/issues')
                                    }
                                },
                                {
                                    label: 'About SAOX',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://quad-b.github.io/saox/')
                                    }
                                },
                                { type: 'separator' },
                                {
                                    label: 'Check for update...',
                                    click: async () => {
                                        ipcRenderer.send('checkdamnupdate');
                                    }
                                },
                                { label: 'SAOX Version ' + require("electron").remote.app.getVersion() }
                            ]
                        }));
                    } else {
                        menu.append(new MenuItem({
                            label: 'เมนูหลัก',
                            submenu: [
                                {
                                    label: 'ปิดโปรแกรม',
                                    click: async () => {
                                        window.close();
                                    }
                                }
                            ]
                        }));

                        menu.append(new MenuItem({
                            label: 'ตั้งค่า',
                            submenu: [
                                {
                                    label: 'ภาษา',
                                    submenu: [
                                        {
                                            label: 'ไทย',
                                            type: 'radio',
                                            checked: true,
                                            click: handleClick
                                        },
                                        {
                                            label: 'อังกฤษ',
                                            type: 'radio',
                                            click: handleClick
                                        }
                                    ]
                                }
                            ]
                        }));

                        menu.append(new MenuItem({
                            label: 'ช่วยเหลือ',
                            submenu: [
                                {
                                    label: 'ติดตาม เฟสบุ๊ค',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://www.facebook.com/QuadBCoder/')
                                    }
                                },
                                {
                                    label: 'สนับสนุน',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://ko-fi.com/boyphongsakorn')
                                    }
                                },
                                { type: 'separator' },
                                {
                                    label: 'แจ้ง Bug',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://github.com/boyphongsakorn/saox/issues')
                                    }
                                },
                                {
                                    label: 'เกี่ยวกับ SAOX',
                                    click: async () => {
                                        const { shell } = require('electron')
                                        await shell.openExternal('https://quad-b.github.io/saox/')
                                    }
                                },
                                { type: 'separator' },
                                {
                                    label: 'ตรวจหาการอัปเดต',
                                    click: async () => {
                                        ipcRenderer.send('checkdamnupdate');
                                    }
                                },
                                { label: 'SAOX เวอร์ชั่น ' + require("electron").remote.app.getVersion() }
                            ]
                        }));
                    }

                    MyTitleBar.updateMenu(menu);

                    MyTitleBar.updateTitle('SAOX');
                }
            }

        }

    </script>

</body>

</html>